<div class="gantt-bar-layer">
  <div class="drag-handles">
    @if (item.draggable && ganttUpper.draggable) {
      <span class="handle" #handle></span>
      <span class="handle" #handle></span>
    }
  </div>
  @if (item.linkable && ganttUpper.linkable) {
    <div class="link-handles">
      <span class="handle"><span class="point"></span></span>
      <span class="handle"> <span class="point"></span></span>
    </div>
  }
</div>
@if (!isMilestone) {
  <div class="gantt-bar-border"></div>
}
<div #content [class]="isMilestone ? 'gantt-milestone-content' : 'gantt-bar-content'" (click)="onBarClick($event)">
  @if (isMilestone) {
    <div class="gantt-milestone-diamond"></div>
  } @else {
    @if (item.progress >= 0) {
      <div class="gantt-bar-content-progress" [style.width.%]="item.progress * 100"></div>
    }
  }
  <ng-template [ngTemplateOutlet]="template" [ngTemplateOutletContext]="{ item: item.origin, refs: item.refs }"> </ng-template>
</div>
